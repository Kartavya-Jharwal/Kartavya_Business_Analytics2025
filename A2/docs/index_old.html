<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Price Calculator | London Airbnb Predictor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* =====================================================
           CSS VARIABLES & RESET
           ===================================================== */
        :root {
            --primary: #FF5A5F;
            --primary-dark: #E04850;
            --secondary: #00A699;
            --accent: #4f46e5;
            --dark: #222222;
            --gray-100: #F7F7F7;
            --gray-200: #EBEBEB;
            --gray-300: #DDDDDD;
            --gray-400: #B0B0B0;
            --gray-500: #717171;
            --white: #FFFFFF;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --shadow-lg: 0 8px 30px rgba(0,0,0,0.12);
            --shadow-xl: 0 20px 60px rgba(0,0,0,0.15);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
        }
        
        /* =====================================================
           TOP NAVIGATION BAR
           ===================================================== */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 0.75rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
        }
        
        .nav-brand:hover {
            color: var(--primary);
        }
        
        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }
        
        .nav-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .nav-link:hover {
            color: white;
        }
        
        .nav-link.active {
            color: var(--primary);
        }

        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* =====================================================
           BACKGROUND ANIMATION
           ===================================================== */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        /* =====================================================
           CONTAINER & LAYOUT
           ===================================================== */
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 2rem 1rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* =====================================================
           GLASSMORPHISM CARD
           ===================================================== */
        .card {
            background: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* =====================================================
           HEADER
           ===================================================== */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, #c41e3a 100%);
            padding: 2rem;
            text-align: center;
            color: var(--white);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .header p {
            font-size: 0.875rem;
            opacity: 0.9;
            font-weight: 400;
        }

        /* =====================================================
           FORM SECTION
           ===================================================== */
        .form-section {
            padding: 1.5rem 2rem;
            background: rgba(15, 23, 42, 0.5);
        }

        .input-group {
            margin-bottom: 1.25rem;
        }

        .input-group label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 0.5rem;
        }

        .input-group label .icon {
            font-size: 1.1rem;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 0.875rem 1rem;
            font-size: 1rem;
            font-family: inherit;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-md);
            background: rgba(15, 23, 42, 0.8);
            color: white;
            transition: all 0.2s ease;
            appearance: none;
            -webkit-appearance: none;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(255, 90, 95, 0.2);
            background: rgba(15, 23, 42, 1);
        }

        .input-group select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1rem;
            padding-right: 2.5rem;
            cursor: pointer;
        }

        .input-group select option {
            background: #1e293b;
            color: white;
        }

        /* Number input styling */
        .number-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .number-input-wrapper input {
            text-align: center;
            padding-left: 3rem;
            padding-right: 3rem;
        }

        .number-btn {
            position: absolute;
            width: 2.5rem;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: color 0.2s;
            user-select: none;
        }

        .number-btn:hover {
            color: var(--primary);
        }

        .number-btn.minus {
            left: 0;
            border-right: 1px solid rgba(255, 255, 255, 0.2);
        }

        .number-btn.plus {
            right: 0;
            border-left: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* =====================================================
           RESULT SECTION
           ===================================================== */
        .result-section {
            background: linear-gradient(135deg, rgba(255, 90, 95, 0.15) 0%, rgba(196, 30, 58, 0.1) 100%);
            padding: 2rem;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .result-label {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.5rem;
        }

        .result-price {
            font-size: 3.5rem;
            font-weight: 700;
            color: white;
            line-height: 1;
            margin-bottom: 0.25rem;
            transition: all 0.3s ease;
        }

        .result-price.animating {
            transform: scale(1.05);
            color: var(--primary);
        }

        .result-unit {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 1rem;
        }

        .result-range {
            display: inline-block;
            background: rgba(15, 23, 42, 0.6);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* =====================================================
           BREAKDOWN SECTION
           ===================================================== */
        .breakdown-section {
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(15, 23, 42, 0.5);
        }

        .breakdown-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 1rem;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            font-size: 0.875rem;
        }

        .breakdown-item .label {
            color: rgba(255, 255, 255, 0.7);
        }

        .breakdown-item .value {
            font-weight: 600;
            font-family: 'SF Mono', Monaco, 'Consolas', monospace;
        }

        .breakdown-item .value.positive {
            color: var(--secondary);
        }

        .breakdown-item .value.negative {
            color: var(--primary);
        }

        .breakdown-item .value.neutral {
            color: rgba(255, 255, 255, 0.6);
        }

        .breakdown-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 0.5rem 0;
        }

        /* =====================================================
           FOOTER
           ===================================================== */
        .footer {
            padding: 1.5rem 2rem;
            background: rgba(15, 23, 42, 0.7);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .model-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.125rem;
            font-weight: 700;
            color: white;
        }

        .stat-label {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .disclaimer {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.4);
            text-align: center;
            line-height: 1.5;
        }

        .disclaimer a {
            color: var(--primary);
            text-decoration: none;
        }

        .disclaimer a:hover {
            text-decoration: underline;
        }

        /* =====================================================
           CREDITS
           ===================================================== */
        .credits {
            text-align: center;
            padding: 1.5rem;
            font-size: 0.75rem;
            color: rgba(255,255,255,0.8);
        }

        .credits a {
            color: var(--white);
            font-weight: 600;
            text-decoration: none;
        }

        /* =====================================================
           RESPONSIVE
           ===================================================== */
        @media (max-width: 480px) {
            .container {
                padding: 1rem 0.75rem;
            }
            
            .header {
                padding: 1.5rem;
            }

            .form-section,
            .breakdown-section,
            .footer {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }

            .result-price {
                font-size: 3rem;
            }

            .model-stats {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="top-nav">
        <a href="landing.html" class="nav-brand">
            ‚Üê Back to Project
        </a>
        <div class="nav-links">
            <a href="landing.html" class="nav-link">Home</a>
            <a href="index.html" class="nav-link active">Calculator</a>
            <a href="https://github.com/kjventura/Kartavya_Business_Analytics2025" target="_blank" class="nav-link">GitHub</a>
        </div>
    </nav>

    <div class="bg-pattern"></div>
    
    <div class="container" style="padding-top: 4rem;">
        <main class="card">
            <!-- Header -->
            <header class="header">
                <span class="header-icon">üè†</span>
                <h1>Airbnb London Price Predictor</h1>
                <p>Estimate your nightly rate using regression analysis</p>
            </header>

            <!-- Form -->
            <section class="form-section">
                <div class="input-group">
                    <label>
                        <span class="icon">üë•</span>
                        Guest Capacity
                    </label>
                    <div class="number-input-wrapper">
                        <button type="button" class="number-btn minus" data-target="accommodates">‚àí</button>
                        <input type="number" id="accommodates" value="4" min="1" max="16" step="1">
                        <button type="button" class="number-btn plus" data-target="accommodates">+</button>
                    </div>
                </div>

                <div class="input-group">
                    <label>
                        <span class="icon">üö™</span>
                        Bedrooms
                    </label>
                    <div class="number-input-wrapper">
                        <button type="button" class="number-btn minus" data-target="bedrooms">‚àí</button>
                        <input type="number" id="bedrooms" value="2" min="0" max="10" step="1">
                        <button type="button" class="number-btn plus" data-target="bedrooms">+</button>
                    </div>
                </div>

                <div class="input-group">
                    <label>
                        <span class="icon">üõèÔ∏è</span>
                        Beds
                    </label>
                    <div class="number-input-wrapper">
                        <button type="button" class="number-btn minus" data-target="beds">‚àí</button>
                        <input type="number" id="beds" value="2" min="0" max="20" step="1">
                        <button type="button" class="number-btn plus" data-target="beds">+</button>
                    </div>
                </div>

                <div class="input-group">
                    <label>
                        <span class="icon">üè°</span>
                        Room Type
                    </label>
                    <select id="roomType">
                        <option value="entire">Entire home/apt</option>
                        <option value="hotel">Hotel room</option>
                        <option value="private">Private room</option>
                        <option value="shared">Shared room</option>
                    </select>
                </div>
            </section>

            <!-- Result -->
            <section class="result-section">
                <div class="result-label">Predicted Nightly Rate</div>
                <div class="result-price" id="priceResult">¬£109</div>
                <div class="result-unit">per night</div>
                <div class="result-range" id="priceRange">Typical range: ¬£78 ‚Äì ¬£152</div>
            </section>

            <!-- Breakdown -->
            <section class="breakdown-section">
                <div class="breakdown-title">Price Breakdown</div>
                
                <div class="breakdown-item">
                    <span class="label">Base price (Entire home)</span>
                    <span class="value neutral" id="breakdownBase">¬£102</span>
                </div>
                
                <div class="breakdown-item">
                    <span class="label">Guest capacity effect</span>
                    <span class="value positive" id="breakdownAccommodates">+¬£48</span>
                </div>
                
                <div class="breakdown-item">
                    <span class="label">Bedroom effect</span>
                    <span class="value positive" id="breakdownBedrooms">+¬£36</span>
                </div>
                
                <div class="breakdown-item">
                    <span class="label">Bed count effect</span>
                    <span class="value negative" id="breakdownBeds">‚àí¬£10</span>
                </div>

                <div class="breakdown-item">
                    <span class="label">Room type adjustment</span>
                    <span class="value neutral" id="breakdownRoomType">‚Äî</span>
                </div>
                
                <div class="breakdown-divider"></div>
                
                <div class="breakdown-item">
                    <span class="label"><strong>Predicted price</strong></span>
                    <span class="value" id="breakdownTotal"><strong>¬£109</strong></span>
                </div>
            </section>

            <!-- Footer -->
            <footer class="footer">
                <div class="model-stats">
                    <div class="stat">
                        <div class="stat-value">R¬≤ = 0.50</div>
                        <div class="stat-label">Model Fit</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">6,319</div>
                        <div class="stat-label">Listings</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">6</div>
                        <div class="stat-label">Predictors</div>
                    </div>
                </div>
                <p class="disclaimer">
                    Model trained on Inside Airbnb London data (2024). 
                    For educational purposes only. 
                    <a href="https://github.com/Kartavya-Jharwal/Kartavya_Business_Analytics2025" target="_blank">View full analysis ‚Üí</a>
                </p>
            </footer>
        </main>

        <div class="credits">
            Built by <a href="https://github.com/Kartavya-Jharwal">Kartavya Jharwal</a> | Hult BAN-0200
        </div>
    </div>

    <script>
        /* =============================================================
           REGRESSION MODEL COEFFICIENTS
           From Final.ipynb OLS output (statsmodels)
           
           Model: ln(Price) = Œ≤‚ÇÄ + Œ≤‚ÇÅ(accommodates) + Œ≤‚ÇÇ(bedrooms) + Œ≤‚ÇÉ(beds) 
                            + Œ≤‚ÇÑ(Hotel) + Œ≤‚ÇÖ(Private) + Œ≤‚ÇÜ(Shared) + Œµ
           
           Reference category: Entire home/apt (all room dummies = 0)
           ============================================================= */
        const COEFFICIENTS = {
            // Intercept (constant term)
            const: 4.6250,
            
            // Continuous predictors
            accommodates: 0.1122,   // +11.9% per guest
            bedrooms: 0.1644,       // +17.9% per bedroom
            beds: -0.0523,          // -5.1% per bed (when holding accommodates/bedrooms constant)
            
            // Room type dummies (reference = Entire home/apt)
            room_Hotel: 0.8721,     // +139% vs Entire home
            room_Private: -0.7310,  // -52% vs Entire home
            room_Shared: -1.3692    // -75% vs Entire home
        };

        // Model diagnostics for confidence interval
        const RMSE_LOG = 0.57;  // Root Mean Squared Error on log scale

        /* =============================================================
           PRICE PREDICTION FUNCTION
           ============================================================= */
        function predictPrice(accommodates, bedrooms, beds, roomType) {
            // Start with intercept
            let logPrice = COEFFICIENTS.const;
            
            // Add continuous variable contributions
            logPrice += COEFFICIENTS.accommodates * accommodates;
            logPrice += COEFFICIENTS.bedrooms * bedrooms;
            logPrice += COEFFICIENTS.beds * beds;
            
            // Add room type adjustment
            let roomAdjustment = 0;
            if (roomType === 'hotel') {
                roomAdjustment = COEFFICIENTS.room_Hotel;
            } else if (roomType === 'private') {
                roomAdjustment = COEFFICIENTS.room_Private;
            } else if (roomType === 'shared') {
                roomAdjustment = COEFFICIENTS.room_Shared;
            }
            // 'entire' ‚Üí roomAdjustment = 0 (reference category)
            
            logPrice += roomAdjustment;
            
            // Convert from log scale to price (¬£)
            const price = Math.exp(logPrice);
            
            // Calculate confidence range (¬±1 RMSE on log scale)
            const priceLow = Math.exp(logPrice - RMSE_LOG);
            const priceHigh = Math.exp(logPrice + RMSE_LOG);
            
            return {
                price: price,
                low: priceLow,
                high: priceHigh,
                logPrice: logPrice,
                roomAdjustment: roomAdjustment
            };
        }

        /* =============================================================
           BREAKDOWN CALCULATION
           Shows contribution of each variable to final price
           ============================================================= */
        function calculateBreakdown(accommodates, bedrooms, beds, roomType) {
            // Base price (intercept only, as Entire home with 0 guests/beds/bedrooms)
            const baseLogPrice = COEFFICIENTS.const;
            const basePrice = Math.exp(baseLogPrice);
            
            // Incremental contributions (as price differences)
            const withAccommodates = Math.exp(baseLogPrice + COEFFICIENTS.accommodates * accommodates);
            const accommodatesEffect = withAccommodates - basePrice;
            
            const withBedrooms = Math.exp(baseLogPrice + COEFFICIENTS.bedrooms * bedrooms);
            const bedroomsEffect = withBedrooms - basePrice;
            
            const withBeds = Math.exp(baseLogPrice + COEFFICIENTS.beds * beds);
            const bedsEffect = withBeds - basePrice;
            
            // Room type effect
            let roomAdjustment = 0;
            if (roomType === 'hotel') {
                roomAdjustment = COEFFICIENTS.room_Hotel;
            } else if (roomType === 'private') {
                roomAdjustment = COEFFICIENTS.room_Private;
            } else if (roomType === 'shared') {
                roomAdjustment = COEFFICIENTS.room_Shared;
            }
            
            const withRoomType = Math.exp(baseLogPrice + roomAdjustment);
            const roomTypeEffect = withRoomType - basePrice;
            
            return {
                base: basePrice,
                accommodates: accommodatesEffect,
                bedrooms: bedroomsEffect,
                beds: bedsEffect,
                roomType: roomTypeEffect
            };
        }

        /* =============================================================
           UI UPDATE FUNCTION
           ============================================================= */
        function updatePrediction() {
            // Get input values
            const accommodates = parseInt(document.getElementById('accommodates').value) || 1;
            const bedrooms = parseInt(document.getElementById('bedrooms').value) || 0;
            const beds = parseInt(document.getElementById('beds').value) || 0;
            const roomType = document.getElementById('roomType').value;
            
            // Calculate prediction
            const result = predictPrice(accommodates, bedrooms, beds, roomType);
            const breakdown = calculateBreakdown(accommodates, bedrooms, beds, roomType);
            
            // Update main price display with animation
            const priceEl = document.getElementById('priceResult');
            priceEl.classList.add('animating');
            priceEl.textContent = '¬£' + Math.round(result.price);
            
            setTimeout(() => {
                priceEl.classList.remove('animating');
            }, 300);
            
            // Update confidence range
            document.getElementById('priceRange').textContent = 
                `Typical range: ¬£${Math.round(result.low)} ‚Äì ¬£${Math.round(result.high)}`;
            
            // Update breakdown
            document.getElementById('breakdownBase').textContent = '¬£' + Math.round(breakdown.base);
            
            // Accommodates effect
            const accEl = document.getElementById('breakdownAccommodates');
            accEl.textContent = formatEffect(breakdown.accommodates);
            accEl.className = 'value ' + getEffectClass(breakdown.accommodates);
            
            // Bedrooms effect
            const bedrmEl = document.getElementById('breakdownBedrooms');
            bedrmEl.textContent = formatEffect(breakdown.bedrooms);
            bedrmEl.className = 'value ' + getEffectClass(breakdown.bedrooms);
            
            // Beds effect
            const bedsEl = document.getElementById('breakdownBeds');
            bedsEl.textContent = formatEffect(breakdown.beds);
            bedsEl.className = 'value ' + getEffectClass(breakdown.beds);
            
            // Room type effect
            const roomEl = document.getElementById('breakdownRoomType');
            if (roomType === 'entire') {
                roomEl.textContent = '‚Äî';
                roomEl.className = 'value neutral';
            } else {
                roomEl.textContent = formatEffect(breakdown.roomType);
                roomEl.className = 'value ' + getEffectClass(breakdown.roomType);
            }
            
            // Total
            document.getElementById('breakdownTotal').innerHTML = '<strong>¬£' + Math.round(result.price) + '</strong>';
        }

        function formatEffect(value) {
            if (Math.abs(value) < 0.5) return '‚Äî';
            const sign = value >= 0 ? '+' : '‚àí';
            return sign + '¬£' + Math.abs(Math.round(value));
        }

        function getEffectClass(value) {
            if (Math.abs(value) < 0.5) return 'neutral';
            return value >= 0 ? 'positive' : 'negative';
        }

        /* =============================================================
           EVENT LISTENERS
           ============================================================= */
        // Update on any input change
        document.querySelectorAll('input, select').forEach(el => {
            el.addEventListener('input', updatePrediction);
            el.addEventListener('change', updatePrediction);
        });

        // Number increment/decrement buttons
        document.querySelectorAll('.number-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const targetId = this.dataset.target;
                const input = document.getElementById(targetId);
                const step = parseInt(input.step) || 1;
                const min = parseInt(input.min) || 0;
                const max = parseInt(input.max) || 100;
                let value = parseInt(input.value) || 0;
                
                if (this.classList.contains('plus')) {
                    value = Math.min(max, value + step);
                } else {
                    value = Math.max(min, value - step);
                }
                
                input.value = value;
                updatePrediction();
            });
        });

        // Initial calculation on page load
        updatePrediction();
    </script>
</body>
</html>
